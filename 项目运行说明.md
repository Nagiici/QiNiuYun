# AIè§’è‰²æ‰®æ¼”å¹³å° - é¡¹ç›®è¿è¡Œè¯´æ˜

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Linux (Ubuntu 18.04+)
- **Node.js**: ç‰ˆæœ¬ 16.0+ (æ¨è 18.x æˆ– 20.x LTS)
- **åŒ…ç®¡ç†å™¨**: npm 8.0+ æˆ– yarn 1.22+
- **å†…å­˜**: æœ€å°‘ 4GB RAM (æ¨è 8GB+)
- **å­˜å‚¨**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### å¼€å‘å·¥å…·æ¨è
- **IDE**: VS Code, WebStorm
- **æµè§ˆå™¨**: Chrome 90+, Firefox 88+, Safari 14+
- **ç»ˆç«¯**: Git Bash (Windows), Terminal (macOS/Linux)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é¡¹ç›®å…‹éš†ä¸åˆå§‹åŒ–

```bash
# 1. å…‹éš†é¡¹ç›®ä»“åº“
git clone <your-repository-url>
cd QiNiuYun

# 2. å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆæ ¹ç›®å½•ã€å‰ç«¯ã€åç«¯ï¼‰
npm run install:all

# æˆ–è€…åˆ†åˆ«å®‰è£…
npm install              # å®‰è£…æ ¹ç›®å½•ä¾èµ–
cd client && npm install # å®‰è£…å‰ç«¯ä¾èµ–
cd ../server && npm install # å®‰è£…åç«¯ä¾èµ–
```

### 2. ç¯å¢ƒé…ç½®

#### åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
```bash
# åœ¨ server ç›®å½•ä¸‹åˆ›å»º .env æ–‡ä»¶
cd server
cp .env.example .env  # å¦‚æœæœ‰ç¤ºä¾‹æ–‡ä»¶
# æˆ–ç›´æ¥åˆ›å»º .env æ–‡ä»¶
```

#### åŸºç¡€ç¯å¢ƒå˜é‡é…ç½®
```env
# åŸºç¡€é…ç½®ï¼ˆå¿…éœ€ï¼‰
PORT=8080
NODE_ENV=development

# æ•°æ®åº“é…ç½®
DATABASE_PATH=./database.db

# AI APIå¯†é’¥ï¼ˆå¯é€‰ï¼Œæœ‰å…è´¹å›é€€æœºåˆ¶ï¼‰
GROQ_API_KEY=your_groq_key_here
OPENAI_API_KEY=your_openai_key_here
COHERE_API_KEY=your_cohere_key_here
ANTHROPIC_API_KEY=your_anthropic_key_here

# è¯­éŸ³æœåŠ¡é…ç½®ï¼ˆå¯é€‰ï¼‰
TTS_API_KEY=your_elevenlabs_key_here
TTS_SERVICE_URL=https://api.elevenlabs.io

# Ollamaæœ¬åœ°é…ç½®ï¼ˆå¯é€‰ï¼‰
OLLAMA_BASE_URL=http://localhost:11434
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨


#### åˆ†åˆ«å¯åŠ¨
```bash
# æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£

# ç»ˆç«¯1: å¯åŠ¨åç«¯æœåŠ¡å™¨
cd server
npm run dev

# ç»ˆç«¯2: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd client
npm run dev
```

### 4. è®¿é—®åº”ç”¨

å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **åç«¯API**: http://localhost:8080
- **APIæ–‡æ¡£**: http://localhost:8080/api-docs (å¦‚æœå¯ç”¨)

## ğŸ› ï¸ å¼€å‘è„šæœ¬è¯´æ˜

### æ ¹ç›®å½•è„šæœ¬
```json
{
  "dev": "åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯å¼€å‘æœåŠ¡å™¨",
  "dev:frontend": "å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨",
  "dev:backend": "å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨",
  "build": "æ„å»ºå‰ç«¯ç”Ÿäº§ç‰ˆæœ¬",
  "start": "å¯åŠ¨ç”Ÿäº§ç¯å¢ƒåç«¯æœåŠ¡å™¨",
  "install:all": "å®‰è£…æ‰€æœ‰ä¾èµ–"
}
```

### å‰ç«¯è„šæœ¬ (client/)
```json
{
  "dev": "å¯åŠ¨Viteå¼€å‘æœåŠ¡å™¨",
  "build": "TypeScriptç¼–è¯‘+Viteæ„å»º",
  "preview": "é¢„è§ˆæ„å»ºç»“æœ"
}
```

### åç«¯è„šæœ¬ (server/)
```json
{
  "dev": "ä½¿ç”¨tsx watchå¯åŠ¨å¼€å‘æœåŠ¡å™¨",
  "build": "TypeScriptç¼–è¯‘",
  "start": "å¯åŠ¨ç¼–è¯‘åçš„ç”Ÿäº§æœåŠ¡å™¨"
}
```

## ğŸ”§ å¼€å‘é…ç½®

### VS Code æ¨èé…ç½®

åˆ›å»º `.vscode/settings.json`:
```json
{
  "typescript.preferences.importModuleSpecifier": "relative",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "editor.formatOnSave": true,
  "files.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.git": true
  }
}
```

æ¨èæ’ä»¶ï¼š
- Vue Language Features (Volar)
- TypeScript Importer
- Tailwind CSS IntelliSense
- Auto Rename Tag
- Bracket Pair Colorizer

### ç«¯å£é…ç½®

é»˜è®¤ç«¯å£ï¼š
- **å‰ç«¯**: 3000 (Vite) æˆ– 5173 (å¤‡ç”¨)
- **åç«¯**: 8080
- **WebSocket**: 8080 (ä¸åç«¯å…±ç”¨)

å¦‚éœ€ä¿®æ”¹ç«¯å£ï¼š
```bash
# å‰ç«¯ç«¯å£ä¿®æ”¹ (client/vite.config.ts)
export default defineConfig({
  server: {
    port: 3001  // ä¿®æ”¹è¿™é‡Œ
  }
})

# åç«¯ç«¯å£ä¿®æ”¹ (server/.env)
PORT=8081  # ä¿®æ”¹è¿™é‡Œ
```

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1: ç«¯å£è¢«å ç”¨
```bash
# Windows
netstat -ano | findstr :8080
taskkill /PID <PID> /F

# macOS/Linux
lsof -ti:8080 | xargs kill -9
```

### é—®é¢˜2: ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…é™¤npmç¼“å­˜
npm cache clean --force

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### é—®é¢˜3: ç±»å‹é”™è¯¯
```bash
# å‰ç«¯TypeScriptæ£€æŸ¥
cd client
npm run build

# åç«¯TypeScriptæ£€æŸ¥
cd server
npm run build
```

### é—®é¢˜4: CORSé”™è¯¯
æ£€æŸ¥åç«¯ `src/index.ts` ä¸­çš„CORSé…ç½®ï¼š
```typescript
const corsOptions = {
  origin: ['http://localhost:3000', 'http://localhost:5173'],
  credentials: true
};
```

### é—®é¢˜5: æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥
```bash
# åˆ é™¤æ•°æ®åº“æ–‡ä»¶é‡æ–°åˆå§‹åŒ–
cd server
rm database.db
npm run dev  # ä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºæ•°æ®åº“
```

## ğŸ” è°ƒè¯•æŠ€å·§

### å‰ç«¯è°ƒè¯•
```bash
# å¼€å¯Vue DevTools
# åœ¨æµè§ˆå™¨ä¸­å®‰è£…Vue DevToolsæ‰©å±•

# æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
# æµè§ˆå™¨å¼€å‘è€…å·¥å…· > Networkæ ‡ç­¾

# æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
# æµè§ˆå™¨å¼€å‘è€…å·¥å…· > Consoleæ ‡ç­¾
```

### åç«¯è°ƒè¯•
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
cd server
npm run dev

# ä½¿ç”¨curlæµ‹è¯•API
curl http://localhost:8080/api/characters
curl -X POST http://localhost:8080/api/characters \
  -H "Content-Type: application/json" \
  -d '{"name":"æµ‹è¯•è§’è‰²","description":"æµ‹è¯•æè¿°"}'
```

### WebSocketè°ƒè¯•
```javascript
// æµè§ˆå™¨æ§åˆ¶å°ä¸­æµ‹è¯•WebSocketè¿æ¥
const ws = new WebSocket('ws://localhost:8080');
ws.onopen = () => console.log('WebSocketè¿æ¥æˆåŠŸ');
ws.onmessage = (event) => console.log('æ”¶åˆ°æ¶ˆæ¯:', event.data);
ws.onerror = (error) => console.error('WebSocketé”™è¯¯:', error);
```

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ„å»ºåº”ç”¨
```bash
# æ„å»ºå‰ç«¯
cd client
npm run build

# æ„å»ºåç«¯
cd server
npm run build
```

### ç¯å¢ƒå˜é‡é…ç½®
```env
# ç”Ÿäº§ç¯å¢ƒå˜é‡
NODE_ENV=production
PORT=8080
DATABASE_PATH=/app/data/database.db

# å®‰å…¨é…ç½®
CORS_ORIGIN=https://yourdomain.com
SESSION_SECRET=your-super-secret-key

# APIå¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
GROQ_API_KEY=prod_groq_key
OPENAI_API_KEY=prod_openai_key
```

### Dockeréƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
```dockerfile
# Dockerfileç¤ºä¾‹
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 8080
CMD ["npm", "start"]
```

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### å¼€å‘ç¯å¢ƒ
- ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- ä½¿ç”¨ä¸´æ—¶çš„æµ‹è¯•APIå¯†é’¥
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…

### ç”Ÿäº§ç¯å¢ƒ
- å¯ç”¨HTTPS
- è®¾ç½®æ­£ç¡®çš„CORSç­–ç•¥
- ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯
- å¯ç”¨æ—¥å¿—è®°å½•å’Œç›‘æ§
- å®šæœŸå¤‡ä»½æ•°æ®åº“

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
```bash
# å®Œæ•´é‡ç½®é¡¹ç›®
npm run install:all && npm run dev

# åªå¯åŠ¨åç«¯
cd server && npm run dev

# åªå¯åŠ¨å‰ç«¯
cd client && npm run dev

# æŸ¥çœ‹é¡¹ç›®çŠ¶æ€
npm ls  # æŸ¥çœ‹ä¾èµ–æ ‘
node --version  # æŸ¥çœ‹Nodeç‰ˆæœ¬
npm --version  # æŸ¥çœ‹npmç‰ˆæœ¬
```

### è·å–å¸®åŠ©
- æŸ¥çœ‹é¡¹ç›®README.mdäº†è§£åŠŸèƒ½è¯¦æƒ…
- æŸ¥çœ‹æ¶æ„è®¾è®¡æ–‡æ¡£äº†è§£ç³»ç»Ÿç»“æ„
- æäº¤IssueæŠ¥å‘Šé—®é¢˜
- å‚è€ƒAPIæ–‡æ¡£äº†è§£æ¥å£è§„èŒƒ

---
